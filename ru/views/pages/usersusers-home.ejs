<div id="users-home" class="content pb-5" v-cloak>
  <% /* Диалоговое окно. Добавить пользователя. */ %>
  <el-dialog title="<%= __('Add user') %>"
             :visible.sync="centerDialogAdded"
             custom-class="dialog-add"
             center>
    <!-- <el-dialog
       width="80%"
       :title="dialog.header"
       :visible.sync="innerVisible"
       append-to-body>
       <div class="text-center"><p>{{dialog.description}}</p></div>
       <el-image :src="dialog.src" style="width: 100%">
         <div slot="placeholder" class="image-slot">
           Loading<span class="dot">...</span>
         </div>

       </el-image>
     </el-dialog>-->
    <% /* Диалоговое окно. Не верный текст имени собаки. */ %>
    <!--  <el-dialog
      title="<%= __('Error') %>"
      width="30%"
      :visible.sync="ruleForm.errInputDogName"
      :show-close=false
      append-to-body>
      <span><%= __('The name of the dog is written only in English letters. Switch the keyboard to the correct layout.') %></span>
      <span slot="footer" class="dialog-footer">
    <el-button type="primary" @click="ruleForm.errInputDogName = false; ruleForm.label=''">Ok</el-button>
  </span>
    </el-dialog>-->
    <% /* Диалоговое окно. Подсказка о использование поля пароля. */ %>
    <el-dialog
      title="Установка пароля"
      :visible.sync="dialogVisiblePass"
      custom-class="dia"
      :before-close="handleClose"
      append-to-body>
      <p>1. Если вы не устанавливаете пароль, то он генерируется автоматически. Это удобно использовать когда Вам нет необходимости заходить
        на сайт под именем данного пользователя, т.к. пароль вы не будете знать. В то же время при нажатие кнопки "Отправить пароль на
        email"
        вы отправите сгенерированный пароль реальному пользователю данного Email.<br>
        <i class="el-icon-warning-outline"></i> Используйте эту процедуру когда вас попросили создать чужой аккаунт и вы знаете реальный
        емайл пользователя.</p>
      <p class="pt-2" style="word-break: break-all">2. Если вы устанавливаете пароль, то его следует вписать в оба поля одинаково.
        <br> <i class="el-icon-warning-outline"></i> Используйте эту процедуру когда вам нужно войти от имени данного пользователя в
        систему, чтобы произвести какие-то действия от его имени. Например создать питомник и добавить собак.</p>
      <span slot="footer" class="dialog-footer">
    <el-button @click="dialogVisiblePass = false">Cancel</el-button>
  </span>
    </el-dialog>

    <% /* Диалоговое окно. Подсказка о использование поля Email. */ %>
    <el-dialog
      title="Установка Email пользователя"
      :visible.sync="dialogVisibleEmail"
      custom-class="dia"
      :before-close="handleClose"
      append-to-body>
      <p>1. Если вы не устанавливаете Email, то он генерируется автоматически. За основу берётся полное имя пользователя.
        <br>
        <i class="el-icon-warning-outline"></i> Используйте эту процедуру чтобы создать пользователя в системе к которому нужно привязать
        данные например питомник, но вы не знаете его контактных данных или вам не важны его контактные данные.</p>
      <p class="pt-2" style="word-break: break-all">
        2. Если вы устанавливаете Email, то с помощью кнопок "Да" и "Нет" вы можете определить будет ли email подтверждён или нет.
        Для правильной связи с пользователем требуется проверенный контакт, в данном случае адрес электронной почты.
        Если этот контакт не был подтверждён пользователем из письма, которое отправляется ему при регистрации, то возможны ошибки
        в написании email или не идентифицированные пользователи в системе. Этого нельзя допускать.
        <br>Если email не подтверждён, некоторые возможности работы в системе будут не доступны, например не
        возможно будет привязать этого пользователя к питомнику в качестве совладельца.
        <br> <i class="el-icon-warning-outline"></i>
        Рекомендуется активировать кнопку "Да".
      </p>
      <span slot="footer" class="dialog-footer">
    <el-button @click="dialogVisibleEmail = false">Cancel</el-button>
  </span>
    </el-dialog>

    <% /* Диалоговое окно. Подсказка о использование поля Группы. */ %>
    <el-dialog
      title="Установка Email пользователя"
      :visible.sync="dialogVisibleGroup"
      custom-class="dia"
      :before-close="handleClose"
      append-to-body>
      <p>
        Обязательно установите группу "user" если Email стоит "Да".
      </p>
      <span slot="footer" class="dialog-footer">
    <el-button @click="dialogVisibleGroup = false">Cancel</el-button>
  </span>
    </el-dialog>


    <template v-if="!ruleForm.see">
      <el-popover
        ref="popover"
        placement="top"
        title="<%= __('Visibility') %>"
        width="275"
        trigger="hover"
        content="<%= __('At the moment, the user is not active, i.e. it will not be visible in the system. Set the visibility.') %>">
      </el-popover>
      <div class="menu-center">
        <h1 v-if="buttonUpdate" class="flex justify-content-center"
            :class="classObject"
        >{{ruleForm.fullName}}
        </h1>
        <el-button class="not-border" icon="el-icon-warning-outline" size="mini" v-popover:popover circle></el-button>
      </div>
    </template>

    <template v-else>
      <h1 v-if="buttonUpdate" class="flex justify-content-center"
          :class="classObject"
      >{{ruleForm.fullName}}</h1>
    </template>


    <div v-if="ruleForm.imageUrl">
      <div class="single-gallery-image" :style="{ backgroundImage: `url('${ruleForm.imageUrl}')` }"></div>
    </div>
    <h5><%= __('Multiple upload photos') %></h5>
    <label v-if="!ruleForm.imageUrl">
      <%= __('Make albums, dividing by event or by time group of photos. Describe events, tell about the photo, thereby structuring your memories and events.') %>
    </label>
    <div class="my-2">
      <el-divider content-position="left"><%= __('Add photo') %></el-divider>
    </div>

    <!---------------------------------------------------------------------------------------->
    <% /*Загрузка фото NEW*/ %>
    <el-row type="flex" class="row-bg" justify="center">
      <el-col :xs="24" :sm="24" :md="24" :lg="24" :xl="24">
        <el-upload
          action="/api/v1/files/upload"
          list-type="picture-card"
          drag
          multiple
          ref="upload"
          :on-preview="handlePictureCardPreview"
          :before-upload="beforeUpload"
          :limit="limit"
          :on-success="handleSuccess"
          :on-exceed="handleExceed"
          :on-remove="handleRemove"
        >
          <i class="el-icon-plus"></i>
          <div class="el-upload__tip" slot="tip"><%= __('jpg/png files with a size less than ') %>
            {{sizeLess}}<%= __('MB') %></div>
        </el-upload>
        <br>
        <el-dialog :visible.sync="dialogVisible">
          <img :src="dialogImageUrl" alt="">
        </el-dialog>
      </el-col>
    </el-row>
    <!---------------------------------------------------------------------------------------->


    <el-row type="flex" class="row-bg" justify="center">
      <el-col :xs="24" :sm="24" :md="24" :lg="20" :xl="20">
        <el-form :model="ruleForm" :rules="rules" ref="ruleForm"
                 class="demo-ruleForm">

          <% /* ПИТОМНИК */ %>
          <!--  <el-form-item v-if="!buttonUpdate" label="<%= __('Kennel') %>" prop="kennel">
            <el-select v-model="ruleForm.kennel" placeholder="<%= __('Choose your cattery') %>"
                       class="form-width"
            >
              <el-option v-for="item in getPullKennel()"
                         :key="item.id"
                         :label="item.label"
                         :value="item.id">
                <span style="float: left">{{ item.label }}</span>
                <span style="float: right; color: #8492a6; font-size: 13px">{{ item.labelRu }}</span>
              </el-option>
            </el-select>
            <el-tooltip effect="dark"
                        content="<%= __("Add kennel") %>"
                        placement="top-start">
              <el-button @click="goTo('kennels')" size="mini" round icon="el-icon-plus"></el-button>
            </el-tooltip>
            <el-tooltip effect="dark"
                        content="<%= __("If you have not found your cattery, go to the \"Kennels\" section and create it.") %>"
                        placement="top-start">

              <div size="mini" round class="el-icon-question "></div>
            </el-tooltip>
          </el-form-item>
-->
          <% /* ИМЯ ПОЛЬЗОВАТЕЛЯ*/ %>
          <template v-if="!buttonUpdate">

            <el-form-item label="ФИО" prop="label">
              <el-input minlength="3" maxlength="120" show-word-limit
                        style="width:80%;"
                        size="small"
                        placeholder="<%= __('Full name user') %>"
                        v-model="ruleForm.label"></el-input>
            </el-form-item>
          </template>

          <% /* EMAIL адрес */ %>
          <template>
            <el-row :gutter="10">
              <el-form-item label="<%= __('Email') %>" prop="emailAddress">
                <el-col :span="11">
                  <el-input
                    autosize
                    size="small"
                    placeholder="Please input"
                    v-model="ruleForm.emailAddress"
                    maxlength="70"
                    :clearable="true"
                    show-word-limit>
                  </el-input>
                </el-col>
                <!--<el-col class="menu-center" :span="1">-</el-col>-->

                <% /* ПОДТВЕРЖДЁН EMAIL | НЕ ПОДТВЕРЖДЁН EMAIL  */ %>
                <el-col :span="8">
                  <template>
                    <el-tooltip placement="top">
                      <div slot="content"><%= __('Make confirmed email. The user will not be sent a verification letter by mail.') %></div>
                      <el-radio-group @change="groupAction()" class="my-1" v-model="ruleForm.emailStatus" size="small">
                        <el-radio-button label="confirmed">Да</el-radio-button>
                        <el-radio-button label="unconfirmed">Нет</el-radio-button>
                      </el-radio-group>
                    </el-tooltip>
                  </template>
                </el-col>
                <el-col :span="1">
                  <el-button @click="dialogVisibleEmail=true" class="not-border my-1" icon="el-icon-warning-outline" size="mini"
                             circle></el-button>
                  <!--<el-button type="text" @click="dialogVisiblePass = true">click to open the Dialog</el-button>-->
                  <!--  <el-popover
                  ref="popover2"
                  placement="top-start"
                  title="<%= __('Letter') %>"
                  width="270"
                  trigger="hover"
                  content="">
                </el-popover>-->
                </el-col>
              </el-form-item>
            </el-row>
          </template>

          <% /* ПАРОЛЬ */ %>
          <template v-if="!buttonUpdate">
            <el-row :gutter="10">
              <el-form-item label="<%= __('Password') %>" prop="checkPass">
                <el-col :span="8">
                  <el-input :clearable="true" minlength="8" maxlength="30" type="password" size="small" v-model="ruleForm.password"
                            autocomplete="off" ></el-input>
                </el-col>
                <!--<el-col class="menu-center" :span="1">-</el-col>-->
                <el-col :span="8">
                  <el-input :clearable="true" minlength="8" maxlength="30" type="password" size="small" v-model="ruleForm.checkPass"
                            autocomplete="off"></el-input>
                </el-col>
                <el-col :span="1">
                  <el-button @click="dialogVisiblePass=true" class="not-border my-1" icon="el-icon-warning-outline" size="mini"
                             circle></el-button>
                  <!--<el-button type="text" @click="dialogVisiblePass = true">click to open the Dialog</el-button>-->
                  <!--  <el-popover
                  ref="popover2"
                  placement="top-start"
                  title="<%= __('Letter') %>"
                  width="270"
                  trigger="hover"
                  content="">
                </el-popover>-->
                </el-col>
              </el-form-item>
            </el-row>
          </template>

          <% /* ОТПРАВИТЬ пароль НА EMAIL? */ %>
          <template v-if="ruleForm.emailStatus==='confirmed'">
            <el-form-item prop="sendCodEmail" class="menu-left pl-5 ml-md-2">
              <el-tooltip placement="top">
                <div slot="content"><%= __('Send authorization data to email the user') %>.</div>
                <el-radio-group v-model="ruleForm.sendCodEmail" size="small">
                  <el-radio-button label="confirmed">Отправить пароль на email</el-radio-button>
                  <el-radio-button label="unconfirmed">Не отправлять</el-radio-button>
                </el-radio-group>
              </el-tooltip>
            </el-form-item>
          </template>

          <div class="my-sm-5">
            <el-divider content-position="left"><%= __('Properties') %></el-divider>
          </div>

          <% /* ВИДЕН ПОЛЬЗОВАТЕЛЬ ИЛИ НЕТ */ %>
          <template>
            <el-form-item prop="see">
              <el-switch
                style="display: block"
                v-model="ruleForm.see"
                active-color="#13ce66"
                inactive-color="#ff4949"
                active-text="виден"
                inactive-text="не виден">
              </el-switch>
            </el-form-item>
          </template>

          <% /* ГРУППА ПОЛЬЗОВАТЕЛЯ  */ %>
          <template v-if="ruleForm.emailStatus==='confirmed'">
            <el-form-item label="Группы" prop="groups">
              <el-select
                v-model="ruleForm.groups"
                multiple
                size="small"
                collapse-tags
                placeholder="Select"
              >
                <el-option
                  v-for="item in groups"
                  :key="item.id"
                  :label="item.label"
                  :value="item.id">
                </el-option>
              </el-select>

              <el-button @click="dialogVisibleGroup=true" class="not-border my-1" icon="el-icon-warning-outline" size="mini"
                         circle></el-button>


            </el-form-item>
            </el-form-item>
          </template>

          <% /* ДЕНЬ РОЖДЕНИЕ */ %>
          <el-form-item v-if="!buttonUpdate" label="<%= __('DoB') %>" prop="dateBirth">
            <el-row :gutter="2">
              <el-col :span="11">
                <el-date-picker
                  v-model="ruleForm.dateBirth"
                  type="datetime"
                  size="small"
                  placeholder="<%= __('Select date and time') %>"
                  default-time="12:00:00">
                </el-date-picker>
              </el-col>
            </el-row>
          </el-form-item>
          <el-form-item v-if="buttonUpdate" label="<%= __('DoB') %>" prop="dateBirthUpdate">
            <el-row :gutter="2">
              <el-col :span="11">
                <el-date-picker
                  v-model="dateBirthUpdate"
                  type="datetime"
                  placeholder="<%= __('Select date and time') %>"
                  default-time="12:00:00">
                </el-date-picker>
              </el-col>
            </el-row>
          </el-form-item>

          <% /* ДЕНЬ СМЕРТИ */ %>
          <el-form-item v-if="!buttonUpdate" label="<%= __('DoD') %>" prop="dateDeath">
            <el-row :gutter="2">
              <el-col :span="11">
                <el-date-picker
                  v-model="ruleForm.dateDeath"
                  type="datetime"
                  placeholder="<%= __('Select date and time') %>"
                  default-time="12:00:00">
                </el-date-picker>
              </el-col>
            </el-row>
          </el-form-item>
          <el-form-item v-if="buttonUpdate" label="<%= __('DoD') %>" prop="dateDeathUpdate">
            <el-row :gutter="2">
              <el-col :span="11">
                <el-date-picker
                  v-model="dateDeathUpdate"
                  type="datetime"
                  placeholder="<%= __('Select date and time') %>"
                  default-time="12:00:00">
                </el-date-picker>
              </el-col>
            </el-row>
          </el-form-item>


          <!--         <el-form-item label="<%= __('Gender') %>" prop="gender">
            <el-col :xs="8" :sm="10" :md="10" :lg="16" :xl="16">
              <el-radio-group v-model="ruleForm.gender">
                <el-radio label="sire"><%= __('Sire') %></el-radio>
                <el-radio label="dam"><%= __('Dam') %></el-radio>
              </el-radio-group>
            </el-col>
          </el-form-item>-->


          <!-- <el-form-item
            v-for="(federation, index) in ruleForm.federations"
            :label="'№ ' + index"
            :key="federation.key"
            :prop="'federations.' + index + '.registerNumber'"
            :rules="{required: true, message: 'Federation can not be null', trigger: 'blur'}">
            <el-col :xs="14" :sm="18" :md="18" :lg="17" :xl="16">
              <el-input placeholder="<%= __("Dog's registration number") %>" v-model="federation.registerNumber"
                        class="input-with-select">

                <el-select v-model="federation.value" slot="prepend" class="wds" placeholder="Select">
                  <el-option label="FCI" value="1"></el-option>
                  <el-option label="RKF" value="2"></el-option>
                  <el-option label="BCU" value="3"></el-option>
                  <el-option label="UKU" value="4"></el-option>
                  <el-option label="IKC" value="5"></el-option>
                  <el-option label="VDH" value="6"></el-option>
                  <el-option label="KCG" value="7"></el-option>
                </el-select>
                <el-button slot="append" @click="copyElement" icon="el-icon-copy-document"></el-button>
                <el-button slot="append" @click.prevent="removeElement(federation)"
                           icon="el-icon-delete"></el-button>
              </el-input>
            </el-col>
          </el-form-item>-->

          <% /*Домашняя кличка */ %>
          <!--   <template>
            <el-form-item label="<%= __('Nickname') %>" prop="nickname">
              <el-col :xs="14" :sm="14" :md="14" :lg="12" :xl="12">
                <el-input minlength="3" maxlength="20" show-word-limit
                          placeholder="<%= __('Affectionate name') %>"
                          v-model="ruleForm.nickname"></el-input>

              </el-col>
              <el-col :xs="3" :sm="3" :md="3" :lg="3" :xl="2">
                <el-tooltip effect="dark"
                            content="<%= __("How do you call the house, a nickname, affectionate name") %>"
                            placement="top-start">
                  <div size="mini" round class="el-icon-question ml-3"></div>
                </el-tooltip>
              </el-col>
            </el-form-item>
          </template>-->

          <% /*Клеймо*/ %>
          <!--          <template>
            <el-form-item label="<%= __('Stamp') %>" prop="stamp">
              <el-col :xs="14" :sm="18" :md="18" :lg="17" :xl="16">
                <el-input minlength="3" maxlength="20" show-word-limit
                          placeholder="<%= __('Stamp Dog number in the registry.') %>"
                          v-model="ruleForm.stamp"></el-input>
              </el-col>
            </el-form-item>
          </template>-->

          <% /* ТИП */ %>
          <!--          <el-form-item label="<%= __('Type') %>" prop="type">
            <el-col :xs="9" :sm="9" :md="7" :lg="7" :xl="7">
              <el-radio-group v-model="ruleForm.type">
                <el-radio label="hairless"><%= __('Hairless') %></el-radio>
                <el-radio label="powderpuff"><%= __('Powderpuff') %></el-radio>
              </el-radio-group>
            </el-col>
            <el-col :xs="3" :sm="3" :md="3" :lg="3" :xl="2" class="mb-3">
              <el-tooltip effect="dark" content="<%= __("What is it?") %>"
                          placement="top-start">
                <el-button @click="showDialog('hairless')" size="mini" round icon="el-icon-question"></el-button>
              </el-tooltip>
            </el-col>
          </el-form-item>-->

          <% /* РОСТ */ %>
          <!--    <template>

            <el-row :gutter="2">
              <el-form-item label="<%= __('Growth (cm)') %>" prop="growth">
                <el-col :xs="12" :sm="15" :md="14" :lg="13" :xl="12">
                  <el-slider
                    class="hidden-xs-only"
                    v-model="ruleForm.growth"
                    :min="20"
                    :max="40"
                    show-input>
                  </el-slider>
                  <el-input-number :min="20" class="text-center hidden-sm-and-up"
                                   :max="40" size="mini" v-model="ruleForm.growth"></el-input-number>
                </el-col>
                <el-col :xs="4" :sm="3" :md="3" :lg="3" :xl="2">
                  <el-tooltip effect="dark" content="<%= __("How to measure a dog's height?") %>"
                              placement="top-start">
                    <el-button @click="showDialog('growth')" size="mini" round
                               icon="el-icon-question"></el-button>
                  </el-tooltip>
                </el-col>
              </el-form-item>
            </el-row>

          </template>-->

          <% /* ВЕС */ %>
          <!--     <template>
            <el-form-item label="<%= __('Weight (g)') %>" prop="weight">
              <el-col :span="16">
                <div class="block">
                  <el-slider
                    class="hidden-xs-only"
                    v-model="ruleForm.weight"
                    :min="20"
                    :max="10000"
                    :step="10"
                    show-input>
                  </el-slider>
                  <el-input-number :min="20"
                                   class="text-center hidden-sm-and-up"
                                   :step="10"
                                   :max="10000"
                                   size="mini"
                                   v-model="ruleForm.weight">
                  </el-input-number>
                </div>
              </el-col>
            </el-form-item>
          </template>-->

          <% /* ЦВЕТ */ %>
          <!-- <template>
            <el-form-item label="<%= __('Color') %>" prop="color">
              <el-col :xs="14" :sm="8" :md="6" :lg="6" :xl="6">

                <el-select v-model="ruleForm.color" placeholder="Select">
                  <el-option
                    v-for="item in getPullColor()"
                    :key="item.value"
                    :label="item.labelRu"
                    :value="item.value">
                    <span style="float: left">{{ item.labelRu }}</span>
                    <span style="float: right; color: #8492a6; font-size: 13px">{{ item.value }}</span>
                  </el-option>
                </el-select>
              </el-col>
              <el-col :xs="3" :sm="3" :md="3" :lg="3" :xl="3">
                <el-tooltip class="ml-3" effect="dark"
                            content="<%= __("Does the standard dictate the definition of color?") %>"
                            placement="top-start">
                  <el-button @click="open(i19p.infoColor,i19p.whyColor)" size="mini" round
                             icon="el-icon-question"></el-button>
                </el-tooltip>
              </el-col>
            </el-form-item>
          </template>-->

          <% /* БУКВА ПОМЁТА  */ %>
          <!--   <template>
            <el-row :gutter="2">
              <el-form-item label="<%= __('Litter letter') %>" prop="letter">
                <el-col :xs="12" :sm="15" :md="14" :lg="13" :xl="12">
                  <el-select v-model="ruleForm.letter" placeholder="Select">
                    <el-option
                      v-for="item in letters"
                      :key="item.value"
                      :label="item.label"
                      :value="item.value">
                    </el-option>
                  </el-select>
                  <el-button class="not-border" icon="el-icon-warning-outline" size="mini" v-popover:popover2 circle></el-button>
                </el-col>
                <el-popover
                  ref="popover2"
                  placement="top-start"
                  title="<%= __('Letter') %>"
                  width="270"
                  trigger="hover"
                  content="<%= __('If you do not set the letter of the litter yourself, the system will do this automatically by setting the first letter of the dog’s name as a litter.') %>">
                </el-popover>

                &lt;!&ndash;<el-col :xs="3" :sm="3" :md="3" :lg="3" :xl="2">
                  <el-tooltip effect="dark"
                              placement="top-start">
                    <div slot="content"><%= __("If you do not set the letter of the litter yourself, the system will do this automatically by setting the first letter of the dog’s name as a litter.") %></div>
                    <div size="mini" round class="el-icon-question ml-3"></div>
                  </el-tooltip>
                </el-col>&ndash;&gt;

              </el-form-item>
            </el-row>
          </template>-->

          <% /* ОПИСАНИЕ */ %>
          <template>
            <el-form-item label="<%= __('Description') %>" prop="description">
              <el-col :xs="16" :sm="15" :md="15" :lg="14" :xl="14">
                <el-input
                  type="textarea"
                  :rows="2"
                  autosize
                  placeholder="Please input"
                  v-model="ruleForm.description"
                  maxlength="1700"
                  show-word-limit>
                </el-input>
              </el-col>
            </el-form-item>
          </template>


          <!--<div class="my-sm-5">-->
          <!--<el-divider content-position="left"><%= __('Teeth') %></el-divider>-->
          <!--</div>-->

          <% /* ПРИКУС */ %>
          <!--      <template>
            <el-row :gutter="2">
              <el-form-item label="<%= __('Bite') %>" prop="bite">
                <el-col :xs="12" :sm="15" :md="14" :lg="13" :xl="12">
                  <el-select v-model="ruleForm.bite" placeholder="Select">
                    <el-option
                      v-for="item in bites"
                      :key="item.value"
                      :label="item.label"
                      :value="item.value">
                    </el-option>
                  </el-select>
                </el-col>
              </el-form-item>
            </el-row>
          </template>-->

          <% /* КЛЫКИ */ %>
          <!--       <template>
            <el-row :gutter="2">
              <el-form-item label="<%= __('Canine') %>" prop="canine">
                <el-col :xs="12" :sm="15" :md="14" :lg="13" :xl="12">
                  <el-slider
                    class="hidden-xs-only"
                    v-model="ruleForm.canine"
                    :min="0"
                    :max="4"
                    show-input>
                  </el-slider>
                  <el-input-number class="text-center hidden-sm-and-up"
                                   :min="0" :max="4" size="mini" v-model="ruleForm.canine"></el-input-number>
                </el-col>
                &lt;!&ndash;   <el-col :xs="4" :sm="3" :md="3" :lg="3" :xl="2">
                    <el-tooltip effect="dark" content="<%= __("How to measure a dog's height?") %>"
                                placement="top-start">
                      <el-button @click="showDialog('growth')" size="mini" round
                                 icon="el-icon-question"></el-button>
                    </el-tooltip>
                  </el-col>&ndash;&gt;
              </el-form-item>
            </el-row>

          </template>-->

          <% /* ЗУБЫ ВЕРХ */ %>
          <!--         <template>
            <el-row :gutter="2">
              <el-form-item label="<%= __('Teeth top') %>" prop="teethCountTop">
                <el-col :xs="12" :sm="15" :md="14" :lg="13" :xl="12">
                  <el-slider
                    class="hidden-xs-only"
                    v-model="ruleForm.teethCountTop"
                    :min="0"
                    :max="6"
                    show-input>
                  </el-slider>
                  <el-input-number class="text-center hidden-sm-and-up"
                                   :min="0" :max="6" size="mini" v-model="ruleForm.teethCountTop"></el-input-number>
                </el-col>
                &lt;!&ndash;   <el-col :xs="4" :sm="3" :md="3" :lg="3" :xl="2">
                    <el-tooltip effect="dark" content="<%= __("How to measure a dog's height?") %>"
                                placement="top-start">
                      <el-button @click="showDialog('growth')" size="mini" round
                                 icon="el-icon-question"></el-button>
                    </el-tooltip>
                  </el-col>&ndash;&gt;
              </el-form-item>
            </el-row>

          </template>-->

          <% /* ЗУБЫ НИЗ */ %>
          <!--  <template>
            <el-row :gutter="2">
              <el-form-item label="<%= __('Teeth top') %>" prop="teethCountBottom">
                <el-col :xs="12" :sm="15" :md="14" :lg="13" :xl="12">
                  <el-slider
                    class="hidden-xs-only"
                    v-model="ruleForm.teethCountBottom"
                    :min="0"
                    :max="6"
                    show-input>
                  </el-slider>
                  <el-input-number class="text-center hidden-sm-and-up"
                                   :min="0" :max="6" size="mini" v-model="ruleForm.teethCountBottom"></el-input-number>
                </el-col>
                &lt;!&ndash;   <el-col :xs="4" :sm="3" :md="3" :lg="3" :xl="2">
                    <el-tooltip effect="dark" content="<%= __("How to measure a dog's height?") %>"
                                placement="top-start">
                      <el-button @click="showDialog('growth')" size="mini" round
                                 icon="el-icon-question"></el-button>
                    </el-tooltip>
                  </el-col>&ndash;&gt;
              </el-form-item>
            </el-row>

          </template>-->

          <% /* ОТЕЦ */ %>
          <!-- <template v-if="sires">
            <el-form-item label="<%= __('Sire') %>" prop="sire">
              <el-col :xs="18" :sm="21" :md="16" :lg="18" :xl="18">
                <el-autocomplete
                  v-if="!buttonUpdate"
                  popper-class="my-autocomplete"
                  clearable
                  v-model="ruleForm.sire"
                  :fetch-suggestions="querySearchSires"
                  placeholder="<%= __("Start typing the dog's name") %>"
                  :trigger-on-focus="false"
                  @select="handleSelect"
                ><i slot="prefix" class="el-autocomplete__icon el-icon-male"></i>
                  <template slot-scope="{ item }">
                    <span class="value">{{ item.value }}</span>
                  </template>
                </el-autocomplete>
                <el-autocomplete v-else
                                 popper-class="my-autocomplete"
                                 clearable
                                 v-model="sire"
                                 :fetch-suggestions="querySearchSires"
                                 placeholder="<%= __("Start typing the dog's name") %>"
                                 :trigger-on-focus="false"
                                 @select="handleSelect"
                ><i slot="prefix" class="el-autocomplete__icon el-icon-male"></i>
                  <template slot-scope="{ item }">
                    <span class="value">{{ item.value }}</span>
                  </template>
                </el-autocomplete>
              </el-col>
            </el-form-item>
          </template>-->

          <% /* МАТЬ */ %>
          <!--    <template v-if="dams">
            <el-form-item label="<%= __('Dam') %>" prop="dam">
              <el-col :xs="20" :sm="20" :md="16" :lg="18" :xl="18">
                <el-autocomplete
                  v-if="!buttonUpdate"
                  popper-class="my-autocomplete"
                  v-model="ruleForm.dam"
                  :fetch-suggestions="querySearchDams"
                  placeholder="<%= __("Start typing the dog's name") %>"
                  :trigger-on-focus="false"
                  @select="handleSelect"
                  style="width: 58%;">
                  <i slot="prefix" class="el-autocomplete__icon el-icon-female"></i>
                  <template slot-scope="{ item }">
                    <span class="value">{{ item.value }}</span>
                  </template>
                </el-autocomplete>

                <el-autocomplete
                  v-else
                  popper-class="my-autocomplete"
                  v-model="dam"
                  :fetch-suggestions="querySearchDams"
                  placeholder="<%= __("Start typing the dog's name") %>"
                  :trigger-on-focus="false"
                  @select="handleSelect"
                  style="width: 58%;">
                  <i slot="prefix" class="el-autocomplete__icon el-icon-female"></i>
                  <template slot-scope="{ item }">
                    <span class="value">{{ item.value }}</span>
                  </template>
                </el-autocomplete>
              </el-col>
            </el-form-item>
          </template>-->


          <!--<div class="my-sm-5">-->
          <!--<el-divider content-position="left"><%= __('Sale') %></el-divider>-->
          <!--</div>-->

          <% /* ПРОДАЁТСЯ */ %>
          <!--       <template>
            <el-form-item label="<%= __('To sell') %>" prop="sale">
              <el-checkbox v-model="ruleForm.sale"></el-checkbox>
            </el-form-item>
          </template>-->

          <% /* ЦЕНА ПРОДАЖИ */ %>
          <!-- <template v-if="ruleForm.sale">
            <el-row :gutter="2">
              <el-form-item label="<%= __('Price') %>" prop="price">
                <el-col :xs="12" :sm="15" :md="14" :lg="13" :xl="12">
                  <el-slider
                    class="hidden-xs-only"
                    v-model="ruleForm.price"
                    :min="20"
                    :max="100000"
                    show-input>
                  </el-slider>
                  <el-input-number :min="20" class="text-center hidden-sm-and-up"
                                   :max="100000" size="mini" v-model="ruleForm.price"></el-input-number>
                </el-col>
                <el-col :xs="4" :sm="3" :md="3" :lg="3" :xl="2">
                  <el-tooltip effect="dark" content="<%= __("Is it obligatory to set a price now?") %>"
                              placement="top-start">
                    <el-button @click="open(i19p.priceText,i19p.priceTitle)" size="mini" round
                               icon="el-icon-question"></el-button>
                  </el-tooltip>
                </el-col>
              </el-form-item>
            </el-row>
          </template>-->

          <% /* ВАЛЮТА ПРОДАЖИ */ %>
          <!--          <template v-if="ruleForm.sale">
            <el-form-item label="<%= __('Sale currency') %>">
              <el-select v-model="ruleForm.currency" placeholder="<%= __('please select your currency') %>">
                <el-option label="dollar ($)" value="dollar"></el-option>
                <el-option label="euro (€)" value="euro"></el-option>
                <el-option label="рубль (&#8381;)" value="рубль"></el-option>
              </el-select>
            </el-form-item>
          </template>-->

          <% /* РЕКОМЕНДАЦИИ К ПРОДАЖЕ */ %>
          <!--<template v-if="ruleForm.sale">
            <el-form-item label="<%= __('Recommendations') %>" prop="saleDescription">
              <el-col :xs="14" :sm="14" :md="14" :lg="12" :xl="12">
                <el-input
                  type="textarea"
                  :rows="2"
                  autosize
                  placeholder="Please input"
                  v-model="ruleForm.saleDescription"
                  maxlength="700"
                  show-word-limit>
                </el-input>
              </el-col>
              <el-col :xs="3" :sm="3" :md="3" :lg="3" :xl="2">
                <el-tooltip effect="dark"
                            placement="top-start">
                  <div slot="content">{{i19p.recommendationsSale}}</div>
                  <div size="mini" round class="el-icon-question "></div>
                </el-tooltip>
              </el-col>
            </el-form-item>
          </template>-->


          <div class="my-3 pt-4 text-center hidden-xs-only">
            <el-form-item>
              <el-button @click="resetForm('ruleForm')"><%= __('Reset') %></el-button>
              <el-button @click="buttonUpdate = false; centerDialogAdded = false"><%= __('Cancel') %></el-button>
              <el-button v-if="!buttonUpdate" type="primary"
                         @click="submitForm('ruleForm')"><%= __('Create') %></el-button>
              <el-button v-else type="primary" @click="submitForm('ruleForm')"><%= __('Update') %></el-button>

            </el-form-item>
          </div>
          <div class="text-center hidden-sm-and-up">
            <el-button-group>
              <el-button @click="resetForm('ruleForm')" icon="el-icon-minus"></el-button>
              <el-button @click="buttonUpdate = false; centerDialogAdded = false" icon="el-icon-close"></el-button>
              <el-button v-if="!buttonUpdate" type="primary"
                         @click="submitForm('ruleForm')" icon="el-icon-check"></el-button>
              <el-button v-else type="primary" @click="submitForm('ruleForm')" icon="el-icon-check"></el-button>
            </el-button-group>
          </div>
        </el-form>
      </el-col>
    </el-row>

    <span slot="footer" class="dialog-footer">
  </span>
  </el-dialog>


  <!-- start banner Area -->
  <section class="banner-area relative">
    <div class="container">
      <div class="row d-flex align-items-center justify-content-center">
        <div class="about-content col-lg-12">
          <h1 class="text-white"><%= __('Users') %> </h1>
          <p>Все пользователи системы.</p>
        </div>
      </div>

      <!--{{options}}-->
    </div>
  </section>
  <!-- End banner Area -->

  <!-- Start Sample Area -->
  <section class="sample-text-area">
    <div class="container">
      <h3 class="text-heading">Пользователи системы.</h3>
      <p class="sample-text">
        В данном разделе содержится вся информация о пользователях системы. Тех кто зарегистрировался и подтвердил свой
        email и тех кто ещё
        не подтвердил. Информация актуальна на данную секунду, так как обновление данных происходит мгновенно в реальном
        времени и не
        нуждается в перезагрузке страницы.
      </p>
      <!--<p><button @click="sayHello()">Подключиться к сокету</button></p>-->
      <el-divider><i class="el-icon-star-on"></i></el-divider>

      <el-row :gutter="5">
        <el-col :xs="24" :sm="8">
          <el-card shadow="hover">
            <p class="text-center">Всего: {{counts}}</p>
          </el-card>
        </el-col>
        <el-col :xs="24" :sm="8">
          <el-card shadow="hover" :body-style="{padding:'13px'}">
            <div v-if="me.isSuperAdmin || me.isAdmin" class="menu-center">
              <el-button @click="clickAddButton()" class="btn btn-outline-info"
                         icon="el-icon-circle-plus-outline"><%= __('Add') %></el-button>

            </div>
          </el-card>
        </el-col>
        <el-col :xs="24" :sm="8">
          <el-card shadow="hover">
            <p class="text-center"> Заблокировано:</p>
          </el-card>
        </el-col>
      </el-row>
    </div>
  </section>
  <!-- End Sample Area -->

  <% /* Диалоговое окно. Отправка сообщения. */ %>
  <el-dialog title="Shipping address" :visible.sync="dialogFormVisible">
    <el-form :model="form">
      <el-form-item label="Promotion name" :label-width="formLabelWidth">
        <el-input v-model="form.name" autocomplete="off"></el-input>
      </el-form-item>
      <el-form-item label="Zones" :label-width="formLabelWidth">
        <el-select v-model="form.region" placeholder="Please select a zone">
          <el-option label="Zone No.1" value="shanghai"></el-option>
          <el-option label="Zone No.2" value="beijing"></el-option>
        </el-select>
      </el-form-item>
    </el-form>
    <span slot="footer" class="dialog-footer">
    <el-button @click="dialogFormVisible = false">Cancel</el-button>
    <el-button type="primary" @click="dialogFormVisible = false">Confirm</el-button>
  </span>
  </el-dialog>

  <% /* Диалоговое окно. Предупредение о невозможности удалить пользователя. */ %>
  <el-dialog
    title="ВНИМАНИЕ!"
    :visible.sync="centerDialogVisible"
    width="30%"
    center>
    <span>{{text}}</span>
    <span slot="footer" class="dialog-footer">
    <!--<el-button @click="centerDialogVisible = false">Cancel</el-button>-->
    <el-button type="primary" @click="centerDialogVisible = false">Ok</el-button>
  </span>
  </el-dialog>

  <% /* Диалоговое окно. Подтверждение удаления объекта. */ %>
  <el-dialog
    title="ВНИМАНИЕ!"
    :visible.sync="centerDialogVisibleConfirm"
    width="30%"
    center>
    <span>{{text}}</span>
    <span slot="footer" class="dialog-footer">
                <el-button @click="centerDialogVisibleConfirm = false">Отмена</el-button>
                <el-button type="primary" @click="confirmDeletion()">Да</el-button>
             </span>
  </el-dialog>

  <% /* Диалоговое окно. Показывает фото профиля. */ %>
  <el-dialog :title="objOne.fullName" :visible.sync="dialogTableVisible">
    <div class="demo-image__placeholder">
      <div class="menu-center">
        <span class="demonstration">{{objOne.kennel}}</span>
        <el-row class="demo-avatar demo-basic">
          <el-col :span="24">
            <!--<div class="sub-title">circle</div>-->
            <div class="demo-basic--circle">
              <div class="block">
                <el-image :src="objOne.imageSrc">
                  <div slot="placeholder" class="image-slot">
                    Loading<span class="dot">...</span>
                  </div>
                </el-image>
                <!--<el-avatar :size="50" :src="objOne.imageSrc"></el-avatar>-->
              </div>
            </div>
          </el-col>
        </el-row>
        <!--    <el-image :src="objOne.imageSrc">
            <div slot="placeholder" class="image-slot">
              Loading<span class="dot">...</span>
            </div>
          </el-image>-->
      </div>
    </div>
  </el-dialog>

  <!-- Start Align Area -->
  <div class="whole-wrap mb-5">
    <div class="container">
      <div class="row">
        <div class="col mb-5">

          <% /* Кол-во строк в таблице. */ %>
          <template>
            <el-input-number v-model="count" :step="5" :min="5" :max="50" size="small" step-strictly></el-input-number>
          </template>

        </div>
        <div class="col-lg-6 ">

          <% /* Удалённый поиск по полю fullName. Поиск на сервере. */ %>
          <template>
            <el-select
              v-model="value"
              style="width: 100%"
              multiple
              filterable
              remote
              clearable
              size="small"
              @change="changeSelectSearch($event)"
              reserve-keyword
              placeholder="ФИО. Поиск чувствителен к регистру."
              :remote-method="remoteMethod"
              :loading="loadingSearch">
              <el-option
                v-for="item in options"
                :key="item.id"
                :label="item.fullName"
                :value="item.fullName">
              </el-option>
            </el-select>
          </template>


        </div>
      </div>

      <% /* __('TABLE')  height="650" */ %>
      <template v-cloak>
        <el-table
          ref="multipleTable"
          :data="getUsers.filter(data => !search || data.fullName.toLowerCase().includes(search.toLowerCase()) || data.emailAddress.includes(search.toLowerCase()))"

          style="width: 100%"
          :default-sort="{prop: ['createdAt','emailStatus','fullName','emailAddress'], order: 'descending'}"
          highlight-current-row
          @current-change="handleCurrentChange"
          @selection-change="handleSelectionChange"
        >
          <el-table-column
            type="index"
            fixed="left"
            width="38">
          </el-table-column>
          <!--<el-table-column-->
          <!--type="selection"-->
          <!--fixed="left"-->
          <!--width="30">-->
          <!--</el-table-column>-->

          <el-table-column
            property="imageSrc"
            label=""
            fixed="left"
            width="90">
            <template slot="header" slot-scope="scope">

              <div class="d-flex justify-content-center"><i class="el-icon-user-solid"></i></div>
            </template>
            <template slot-scope="scope">
              <div v-if="scope.row.imageSrc" class="photo-preview col">
                <div class="image-wrapper round">
                  <a href="#" @click="clickShowPhoto(scope.$index,scope.row)">
                    <img :src="scope.row.imageSrc" class="personPhoto"/>
                  </a>
                </div>
              </div>
              <div v-else class="photo-preview col">
                <div class="image-wrapper round  d-flex align-items-center justify-content-center"><!----> <!----> <span
                    class="placeholder-icon fa fa-picture-o"></span></div>
              </div>
            </template>
          </el-table-column>

          <el-table-column type="expand">
            <template slot-scope="props">
              <p v-if="!_.isEmpty(_.pluck(props.row.kennels,'phones')[0])">Телефон: {{ _.pluck(_.pluck(props.row.kennels,'phones'),'value').join(', ') }}</p>
              <p v-if="!_.isEmpty(_.pluck(props.row.kennels,'continent')[0])">Continent: {{ _.pluck(props.row.kennels,'continent').join(', ') }}</p>
              <p v-if="!_.isEmpty(_.pluck(props.row.kennels,'country')[0])">Country: {{ _.pluck(props.row.kennels,'country').join(', ') }}</p>
              <p v-if="!_.isEmpty(_.pluck(props.row.kennels,'region')[0])"><%= __('Region') %>: {{ _.pluck(props.row.kennels,'region').join(', ') }}</p>
              <p v-if="!_.isEmpty(_.pluck(props.row.kennels,'city')[0])">Город: {{ _.pluck(props.row.kennels,'city').join(', ') }}</p>
              <p v-if="!_.isEmpty(_.pluck(props.row.kennels,'address')[0])">Адрес: {{ _.pluck(props.row.kennels,'address').join(', ') }}</p>
              <p v-if="!_.isEmpty(_.pluck(props.row.kennels,'site')[0])">Сайт: {{ _.pluck(props.row.kennels,'site').join(', ') }}</p>
              <p v-if="!_.isEmpty(_.pluck(props.row.kennels,'label')[0])">Питомник: {{ _.pluck(props.row.kennels,'label').join(', ') }}</p>
            </template>
          </el-table-column>
          <el-table-column
            property="createdAtFormatFilter"
            label="Дата"
            sortable
            width="220"
            column-key="createdAtFormatFilter"
            :filters="tableDateFilter"
            :filter-method="filterHandler"
          >
            <template slot-scope="scope">
              <i class="el-icon-time"></i>
              {{ scope.row.createdAtFormat}}
            </template>
          </el-table-column>
          <el-table-column
            property="fullName"
            label="ФИО"
            sortable
            width="150"
          >
            <template slot-scope="scope">
              <el-popover trigger="hover" placement="top">
                <p>Питомник: {{ scope.row.kennel }}</p>
                <p>Адрес: {{ scope.row.kennelAddress }}</p>
                <div slot="reference" class="name-wrapper">
                  <el-tag size="small">{{ scope.row.fullName }}</el-tag>
                </div>
              </el-popover>
            </template>
          </el-table-column>
          <el-table-column
            property="emailAddress"
            sortable
            label="eMail"
            width="170"
            show-overflow-tooltip>

          </el-table-column>
          <el-table-column label="Группы" width="160">
            <template slot-scope="scope">
              <el-select
                v-model="scope.row.groups"
                multiple
                size="small"
                :key="scope.row.id"
                collapse-tags
                @remove-tag="handleDeleteGroup($event,scope.$index, scope.row)"
                placeholder="Select"
                @change="handleSelect(scope.$index, scope.row)"
              >
                <el-option
                  v-for="item in scope.row.allGroups"
                  :key="item.id"
                  :label="item.label"
                  :value="item.id">
                </el-option>
              </el-select>
            </template>
          </el-table-column>
          <el-table-column
            property="emailStatus"
            sortable
            label="Подтверждён"
            width="170"
            show-overflow-tooltip>
          </el-table-column>

          <el-table-column
            align="right"
            fixed="right"
            width="140">
            <template slot="header" slot-scope="scope">
              <el-input
                v-model="search"
                size="mini"
                placeholder="Email, ФИО"/>
            </template>
            <template slot-scope="scope">
              <el-button @click="handleMessage(scope.$index, scope.row)" type="info" icon="el-icon-message" circle></el-button>
              <!--<el-button-->
              <!--size="mini"-->
              <!--@click="handleEdit(scope.$index, scope.row)">Edit-->
              <!--</el-button>-->
              <!--<el-button @click="handleEdit(scope.$index, scope.row)" type="primary" icon="el-icon-edit" circle></el-button>-->
              <!--<el-button-->
              <!--size="mini"-->
              <!--type="danger"-->
              <!--@click="handleDelete(scope.$index, scope.row)">Delete-->
              <!--</el-button>-->
              <el-button @click="handleDelete(scope.$index, scope.row)" type="danger" icon="el-icon-delete" circle></el-button>
            </template>
          </el-table-column>
          <!--  <el-table-column
              fixed="right"
              label="Operations"
              width="120">
              <template slot-scope="scope">
                <el-button @click="handleClick" type="text" size="small">Detail</el-button>
                <el-button type="text" size="small">Edit</el-button>
              </template>
            </el-table-column>-->

        </el-table>
        <% /*<div style="margin-top: 20px">
          <el-button @click="toggleSelection([tableData[1], tableData[2]])">Переключить статус выбора второго и
            третьего рядов
          </el-button>
          <el-button @click="toggleSelection()">Очистить выбор</el-button>
        </div>*/ %>
      </template>

      <% /* __('END TABLE') */ %>

    </div>
  </div>

</div>

<%- /* Expose server-rendered data as window.SAILS_LOCALS :: */ exposeLocalsToBrowser() %>
